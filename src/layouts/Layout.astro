---
import { Icon } from 'astro-icon';
import Footer from './Footer.astro';
import Navbar from './Navbar.astro';

export interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang='en' class='dark'>
  <head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width' />
    <link rel='icon' type='image/svg+xml' href='/favicon.svg' />
    <meta name='generator' content={Astro.generator} />
    <meta name='description' content='company landing page' />
    <title>{title}</title>
  </head>
  <body class='bg-white text-body-light dark:text-body dark:bg-dark min-h-[300vh]'>
    <div
      class='fixed bottom-0 left-0 -translate-x-1/2 translate-y-1/2 w-[31.25rem] h-[31.25rem] rounded-full [background-image:linear-gradient(45deg,#059dff,#36c6f0)] opacity-25 -z-10 blur-[6.25rem]'>
    </div>
    <div
      class='fixed top-0 right-0 translate-x-1/2 -translate-y-1/2 w-[31.25rem] h-[31.25rem] rounded-full [background-image:linear-gradient(45deg,#fb5343,#6549d5)] opacity-25 -z-10 blur-[6.25rem]'>
    </div>
    <header>
      <Navbar />
    </header>
    <main class='px-4 xl:max-w-6xl lg:max-w-4xl md:max-w-2xl mx-auto pt-[77px]'>
      <slot />
    </main>
    <button
      class='bg-bg-light-2 dark:bg-darkest rounded-full w-12 h-12 fixed z-10 right-8 bottom-8 hidden place-content-center'
      id='scrollTopBtn'
      aria-label='scroll-to-top'>
      <Icon name='mdi:arrow-up' class='w-6 h-6' />
    </button>
    <Footer />
  </body>
</html>

<script>
  if (localStorage.theme === 'light') {
    document.documentElement.className = 'light';
  }
  const scrollTopBtn = document.getElementById('scrollTopBtn');
  window.onscroll = () => {
    if (document.body.scrollTop > 40 || document.documentElement.scrollTop > 20) {
      if (scrollTopBtn) scrollTopBtn.style.display = 'grid';
    } else {
      if (scrollTopBtn) scrollTopBtn.style.display = 'none';
    }
  };
  scrollTopBtn?.addEventListener('click', () => {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  });
</script>

<style is:global>
  /* html {
    scroll-behavior: smooth;
  } */
  ::-webkit-scrollbar {
    width: 12px;
  }
  ::-webkit-scrollbar-thumb {
    box-shadow: 0px 0px 0px 100000vh black;
    background: linear-gradient(rgb(134, 239, 172), rgb(59, 130, 246), rgb(147, 51, 234));
  }
  .clip {
    -webkit-background-clip: text;
  }
  .box-shadow-primary:hover {
    box-shadow: 0 0 20px 5px rgba(251, 83, 67, 0.2);
  }
</style>
